enum RoleScope {
  WORKSPACE
  GLOBAL
}
model Role {
  id String @id @default(uuid())

  key String?

  name String
  permissions Int

  scope RoleScope @default(WORKSPACE)

  tenantId String?    @map("tenant_id")
  tenant   Tenant? @relation(fields: [tenantId], references: [id], onDelete: Cascade)

  tenantKey String @default("")

  users   User[]

  creatorId String? @map("creator_id")
  creator Member? @relation(fields: [creatorId], references: [id], onDelete: Cascade, name: "creator")

  members Member[] @relation(name: "members")
  invites Invite[]

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@unique([tenantKey, name, scope], map: "tenant_id_name_scope_idx")
  @@map("roles")
}