
enum RoleScope {
  WORKSPACE
  GLOBAL
}
model Role {
  id String @id @default(uuid())

  name String
  permissions Int[]

  scope RoleScope @default(WORKSPACE)

  workspaceId String?    @map("workspace_id")
  workspace   Workspace? @relation(fields: [workspaceId], references: [id], onDelete: Cascade)

  workspaceKey String @default("")

  users   User[]

  creatorId String? @map("creator_id")
  creator Member? @relation(fields: [creatorId], references: [id], onDelete: Cascade, name: "creator")

  members Member[] @relation(name: "members")
  invites Invite[]

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@unique([workspaceKey, name, scope], map: "workspace_id_name_scope_idx")

}